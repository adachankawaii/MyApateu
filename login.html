<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BlueMoon ‚Äî ƒêƒÉng nh·∫≠p</title>
<style>
  :root{
    --blue-600:#2563eb;
    --blue-700:#1d4ed8;
    --card-w: 480px;
    --radius-lg: 22px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    /* n·ªÅn xanh ph·ªß to√†n trang */
    background: radial-gradient(90% 90% at 70% 30%, #2e6af0 0%, var(--blue-700) 55%, #1e40af 100%);
    display:flex; align-items:center; justify-content:center;  /* card ·ªü ch√≠nh gi·ªØa */
    padding:24px;
  }

  /* Card ƒëƒÉng nh·∫≠p gi·ªØa m√†n h√¨nh */
  .card{
    width:var(--card-w); max-width:92%;
    background:#fff; border-radius:var(--radius-lg);
    box-shadow:0 18px 46px rgba(0,0,0,.25);
    padding:28px 28px 30px; position:relative;
  }

  .brand{display:flex; align-items:flex-start; gap:12px; margin-bottom:12px;}
  .brand .logo{
    width:50px;height:50px;border-radius:14px;
    display:grid;place-items:center;
    color:#fff;font-weight:800;font-size:18px;
    background: linear-gradient(180deg, var(--blue-600), var(--blue-700));
    box-shadow:0 8px 20px rgba(37,99,235,.35);
    flex:0 0 auto;
  }
  .brand h1{
    font-size:32px; font-weight:800; line-height:1.1;
    margin:2px 0 4px; color:#0f172a;
  }
  .brand .sub{font-size:13px; color:#6b7280}

  /* Ch·ªçn lo·∫°i t√†i kho·∫£n */
  .seg{
    display:flex; gap:8px; padding:6px; background:#f1f5f9;
    border-radius:14px; width:max-content; margin:6px 0 14px;
  }
  .seg button{
    border:0; background:transparent; padding:8px 14px; border-radius:10px;
    font-size:13px; font-weight:600; color:#334155; cursor:pointer; transition:.2s;
  }
  .seg button.active{background:#fff; color:#2563eb; box-shadow:0 1px 4px rgba(15,23,42,.1);}

  /* Form */
  .field{margin:12px 0 16px}
  .label{font-size:14px; color:#0f172a; margin-bottom:6px}
  .control{position:relative}
  input, select{
    width:100%; border:1px solid #e5e7eb; background:#fff;
    height:48px; border-radius:12px; padding:0 14px;
    font-size:15px; color:#0f172a; outline:none; transition:border-color .2s, box-shadow .2s;
  }
  input::placeholder{color:#9ca3af}
  input:focus, select:focus{ border-color: var(--blue-600); box-shadow:0 0 0 4px rgba(37,99,235,.15); }
  .toggle-eye{ position:absolute; right:12px; top:50%; transform:translateY(-50%); cursor:pointer; font-size:18px; color:#64748b; user-select:none; }

  .btn{
    width:100%; height:50px; border:0; cursor:pointer;
    color:#fff; font-weight:800; font-size:15px; letter-spacing:.2px;
    border-radius:12px; margin-top:12px;
    background:linear-gradient(90deg, var(--blue-600), var(--blue-700));
    box-shadow:0 10px 20px rgba(29,78,216,.35);
    transition:transform .05s ease, filter .2s ease;
  }
  .btn:active{transform:translateY(1px)}
  .muted{ margin-top:16px; text-align:center; font-size:14px; color:#868788 }
  .muted a{color:#52b7ff; font-weight:700; text-decoration:underline}

  /* ===== Toast error ===== */
  #toast {
    position: fixed;
    top: 20px; left: 50%; transform: translateX(-50%);
    z-index: 9999;
    background: #fee2e2; border: 1px solid #ef4444; color: #991b1b;
    padding: 12px 16px; border-radius: 12px;
    box-shadow: 0 10px 24px rgba(0,0,0,0.15);
    min-width: 320px; max-width: 90vw;
    display: none; align-items: center; gap: 10px; font-size: 14px;
  }
  #toast.show { display:flex; animation: toastSlide .18s ease-out; }
  #toast .toast-title { font-weight: 800; margin-right: 6px; }
  #toast .toast-close { margin-left:auto; background:transparent; border:none; color:#b91c1c; font-size:18px; cursor:pointer; line-height:1; }
  @keyframes toastSlide { from { transform: translate(-50%, -12px); opacity:0; } to { transform: translate(-50%, 0); opacity:1; } }

  /* ===== Modal ƒëƒÉng k√Ω ===== */
  .modal{
    display:none; position:fixed; inset:0; z-index: 10000;
    background: rgba(2,6,23,.55);
    align-items:center; justify-content:center; padding:18px;
  }
  .sheet{
    width:520px; max-width:95%; background:#ffffff; border-radius:16px;
    padding:22px 22px 24px; position:relative;
    box-shadow: 0 20px 60px rgba(2,6,23,.35);
  }
  .sheet h3{margin:0 0 12px; text-align:center; font-size:18px; font-weight:800; color:#0f172a}
  .close{
    position:absolute; right:14px; top:12px; color:#ef4444; font-size:22px; cursor:pointer;
    background:transparent; border:none;
  }
  .sheet .btn{ margin-top:4px; }
  .sheet .field{ margin:10px 0 14px; }
  .sheet select, .sheet input{ height:46px; }

  @media (max-width: 520px){
    .brand h1{font-size:28px}
  }
</style>
</head>
<body>

  <!-- Toast th√¥ng b√°o l·ªói -->
  <div id="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <span class="toast-title">ƒêƒÉng nh·∫≠p th·∫•t b·∫°i:</span>
    <span id="toastMsg">Sai t√™n ƒëƒÉng nh·∫≠p ho·∫∑c m·∫≠t kh·∫©u</span>
    <button class="toast-close" id="toastClose" aria-label="ƒê√≥ng">‚úï</button>
  </div>

  <!-- Card ƒëƒÉng nh·∫≠p gi·ªØa m√†n h√¨nh -->
  <div class="card" aria-label="Login Card">
    <!-- Segmented account type -->
    <div class="seg" id="seg">
      <button type="button" class="active" data-role="admin">Qu·∫£n l√Ω</button>
      <button type="button" data-role="resident">C∆∞ d√¢n</button>
    </div>

    <div class="brand">
      <div class="logo">B</div>
      <div>
        <h1>BlueMoon</h1>
        <div class="sub">ƒêƒÉng nh·∫≠p ƒë·ªÉ qu·∫£n l√Ω chung c∆∞</div>
      </div>
    </div>

    <div class="field">
      <div class="label">T√™n ƒëƒÉng nh·∫≠p</div>
      <div class="control">
        <input id="username" type="text" placeholder="vd. liqi" />
      </div>
    </div>

    <div class="field">
      <div class="label">M·∫≠t kh·∫©u</div>
      <div class="control">
        <input id="password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
        <span class="toggle-eye" id="eye">üëÅÔ∏è</span>
      </div>
    </div>

    <button class="btn" id="loginBtn">ƒêƒÉng nh·∫≠p</button>

    <div class="muted">
      Ch∆∞a c√≥ t√†i kho·∫£n? <a href="#" id="openRegister">T·∫°o t√†i kho·∫£n</a>
    </div>
  </div>

  <!-- Modal ƒêƒÉng k√Ω -->
  <div class="modal" id="registerModal" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true" aria-labelledby="regTitle">
      <button class="close" id="closeModal" aria-label="ƒê√≥ng">‚úï</button>
      <h3 id="regTitle">ƒêƒÉng k√Ω t√†i kho·∫£n</h3>

      <div class="field">
        <div class="label">Lo·∫°i t√†i kho·∫£n</div>
        <div class="control">
          <select id="accountType">
            <option value="admin">Qu·∫£n l√Ω chung c∆∞</option>
            <option value="resident">C∆∞ d√¢n chung c∆∞</option>
          </select>
        </div>
      </div>

      <div class="field">
        <div class="label">T√™n</div>
        <div class="control"><input id="firstName" type="text" placeholder="Nh·∫≠p t√™n" /></div>
      </div>

      <div class="field">
        <div class="label">H·ªç</div>
        <div class="control"><input id="lastName" type="text" placeholder="Nh·∫≠p h·ªç" /></div>
      </div>

      <div class="field">
        <div class="label">Email</div>
        <div class="control"><input id="email" type="email" placeholder="Nh·∫≠p email" /></div>
      </div>

      <div class="field">
        <div class="label">T√™n ƒëƒÉng nh·∫≠p</div>
        <div class="control"><input id="regUsername" type="text" placeholder="Nh·∫≠p t√™n ƒëƒÉng nh·∫≠p" /></div>
      </div>

      <div class="field">
        <div class="label">M·∫≠t kh·∫©u</div>
        <div class="control"><input id="regPassword" type="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" /></div>
      </div>

      <button class="btn" id="registerBtn">ƒêƒÉng k√Ω</button>
    </div>
  </div>

<script>
  // Password eye toggle
  const pwd = document.getElementById('password');
  const eye = document.getElementById('eye');
  eye.addEventListener('click', () => {
    pwd.type = (pwd.type === 'password') ? 'text' : 'password';
    eye.style.opacity = (pwd.type === 'text') ? '1' : '0.75';
  });

  // Segmented role control
  let currentRole = 'admin';
  document.getElementById('seg').addEventListener('click', (e)=>{
    if(e.target.tagName !== 'BUTTON') return;
    [...e.currentTarget.children].forEach(b=>b.classList.remove('active'));
    e.target.classList.add('active');
    currentRole = e.target.dataset.role;   // 'admin' | 'resident'
  });

  // Toast helpers
  const toastEl = document.getElementById('toast');
  const toastMsgEl = document.getElementById('toastMsg');
  const toastCloseEl = document.getElementById('toastClose');
  let toastTimer = null;
  function showToast(message, timeoutMs = 3000){
    toastMsgEl.textContent = message || 'ƒê√£ x·∫£y ra l·ªói';
    toastEl.classList.add('show');
    clearTimeout(toastTimer);
    toastTimer = setTimeout(hideToast, timeoutMs);
  }
  function hideToast(){ toastEl.classList.remove('show'); }
  toastCloseEl.addEventListener('click', hideToast);

  // Hardcode login ‚Üí home.html
  document.getElementById('loginBtn').addEventListener('click', ()=>{
    const uname = document.getElementById('username').value.trim();
    const pass  = document.getElementById('password').value;
    const ok = (uname === 'liqi' && pass === '1234' && currentRole === 'admin');
    if (!ok) { showToast('Sai t√™n ƒëƒÉng nh·∫≠p ho·∫∑c m·∫≠t kh·∫©u'); return; }
    window.location.href = 'home.html';
  });

  // Modal register open/close
  const registerModal = document.getElementById('registerModal');
  const openRegister  = document.getElementById('openRegister');
  const closeModalBtn = document.getElementById('closeModal');

  openRegister.addEventListener('click', (e)=>{
    e.preventDefault();
    registerModal.style.display = 'flex';
    registerModal.setAttribute('aria-hidden', 'false');
  });

  closeModalBtn.addEventListener('click', ()=>{
    registerModal.style.display = 'none';
    registerModal.setAttribute('aria-hidden', 'true');
  });

  window.addEventListener('click', (e)=>{
    if (e.target === registerModal){
      registerModal.style.display = 'none';
      registerModal.setAttribute('aria-hidden', 'true');
    }
  });

  // (Demo) x·ª≠ l√Ω n√∫t ƒêƒÉng k√Ω ‚Äì ch·ªâ b√°o th√†nh c√¥ng, ch∆∞a l∆∞u CSDL
  document.getElementById('registerBtn').addEventListener('click', ()=>{
    // B·∫°n c√≥ th·ªÉ th√™m validate ·ªü ƒë√¢y
    registerModal.style.display = 'none';
    registerModal.setAttribute('aria-hidden', 'true');
    showToast('ƒêƒÉng k√Ω th√†nh c√¥ng (demo). B·∫°n c√≥ th·ªÉ ƒëƒÉng nh·∫≠p ngay.');
  });
</script>
</body>
</html>
